<html>
  <head>
      <script src="p5.min.js"></script>
      <script src="p5.collide2d.min.js"></script>

 <style>
  body{
  overflow:hidden;
  margin:0;
  padding:0;
  }
  </style>
  </head>
  <body>
    
    <script>
var w = window.innerWidth;
var h = window.innerHeight;
var jumper = new jumper();
var barrier = new barrier();
var hit = false;
var balll = 50;
var rand = Math.floor(Math.random()*300);
var rand2 = Math.floor(Math.random()*100-300);
var rand3 = Math.floor(Math.random()*100-300);
var counterr = 0;
      function setup(){
        createCanvas(w,h);
      }
      function draw() {

        background(0);
        jumper.show();
        jumper.update();
        barrier.show();
        barrier.update();
        barrier.kill();
        hit = collideRectCircle(barrier.x,barrier.y,rand2,rand3,jumper.x,jumper.y,balll)
        print("colliding? " + hit);
        textSize(30);
          fill(color("white"));
          text("Score: " + counterr,25, 30);
      
               
          
      }

      function jumper() {
        this.x = 50;
        this.y = 0;
        this.gravity = 0.9; //Force of gravity
        this.lift = -10;
        this.velocity = 0;
        
        
        this.show = function(){
          fill(color('red'));
          ellipse(this.x,this.y,balll);
        }
        
        this.up = function(){
          this.velocity += this.lift;
          
        }
        this.update = function() {
          this.velocity += this.gravity;
          this.y += this.velocity;
          this.velocity *= 0.8;
          if(this.y > h){
            this.y =h -50  ;
            this.velocity = 0;
            
          }
          if(this.y < 0) {
            this.y = 0;
            this.velocity = 0;
          }
          
        }
      }
      
      function keyPressed() {
        if(keyCode == 32){
          jumper.up();
        }
      }
      
           function barrier() {
        this.x = w;
        this.y = rand;
        
        this.gravity = 0.2; //Force of gravity
        this.velocity = 0;
         
        this.show = function() {
          fill(color('red'));
          rect(this.x,rand,rand2,rand3);
        }
        
       
        this.update = function()  {
          this.velocity += this.gravity;
          this.x -= this.velocity;
        
          if(this.x < 0){
          counterr += 1;
          this.x= w;
          this.velocity = 0;
              textSize(30);
          fill(color("white"));
          text("Score: " + counterr,25, 30);
      
      
  
          }
          if(counterr === 5){
            textSize(200);
          fill(color("white"));
          text("YOU WIN",25, 500, );
            noLoop();
          }
          
        }
        this.kill = function() {
         if(hit === true){
          noLoop();
          textSize(200);
          fill(color("white"));
          text("GAME OVER",25, 500);

          }
          }
 }
      
    </script>

  </body>
</html>
